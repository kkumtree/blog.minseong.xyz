<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="apple-icon-180x180" sizes="180x180" href='/img/favicon/apple-icon-180x180.png'>
    <link rel="icon" type="image/png" sizes="32x32" href='/img/favicon/favicon-32x32.png'>
    <link rel="icon" type="image/png" sizes="16x16" href='/img/favicon/favicon-16x16.png'>
    <title>Calico Installation in Operator Mode | kkumtree</title>
    
    <meta property="og:site_name" content="kkumtree" />
    <meta property="og:title" content="Calico Installation in Operator Mode" />

    
    <meta property="og:image" content='https://blog.minseong.xyz/post/kans-3w-calico-operator/cover.png' />
    <meta property="og:image:secure_url" content='https://blog.minseong.xyz/post/kans-3w-calico-operator/cover.png' />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content='https://blog.minseong.xyz/post/kans-3w-calico-operator/cover.png' />

    
    <link rel="stylesheet" href="https://blog.minseong.xyz/sass/theme.min.05bc9a89b9988ba7449154a7ccd83133b7df79fac13cc1945cffac151ac54dbb.css">
</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GCJ1CESNKD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GCJ1CESNKD');
</script><body><header id="navigation" class="p-navigation is-dark">
  <div class="p-navigation__row">
    <div class="p-navigation__banner">
      <div class="p-navigation__tagged-logo" style="min-width: 6rem;">
        <a class="p-navigation__link" href="/">
          <div class="p-navigation__logo-tag">
            <img class="p-navigation__logo-icon" src="/img/BlogWhite.svg" alt="">
          </div>
          <span class="p-navigation__logo-title">Blog</span>
        </a>
      </div>
      <a href="#navigation" class="p-navigation__toggle--open" title="menu">Menu</a>
      <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">Close menu</a>
    </div>
    <nav class="p-navigation__nav" aria-label="Example sub navigation">
      <ul class="p-navigation__items">
        
      </ul>
     
     <ul class="p-navigation__items">
        <li class="p-navigation__item--dropdown-toggle" id="link-4">
          <a class="p-navigation__link" aria-controls="account-menu">
            ğŸŒ
          </a>
          <ul class="p-navigation__dropdown--right" id="account-menu" aria-hidden="true">
            
            
            
          </ul>
        </li>
        <li class="p-navigation__item--dropdown-toggle" id="link-4">
          <a class="p-navigation__link" aria-controls="account-menu">
            ğŸ”—
          </a>
          <ul class="p-navigation__dropdown--right" id="account-menu" aria-hidden="true">
            
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>
<div id="content">


<main>
  <section class="p-strip--image main-strip"
    }
    style="background-image:url('cover.png'); background-position: center; background-repeat: no-repeat; background-size: cover;"
    >
      <div class="row">
        
        <div class="col-6">
          <div class="p-card--overlay">
            <h2>Calico Installation in Operator Mode</h2>
            <ul class="p-card__content p-inline-list--middot">
              
              <li class="p-inline-list__item">
                kkumtree
              </li>
              
            </ul>
            <p><u class=" timedisplay" style="text-decoration-style: dotted;">2024-09-18T20:52:16&#43;09:00</u></p>
            <p class="p-card__content"></p>
            
            <a href="/tags/kans" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">kans</span>
              </div>
            </a>
            
            <a href="/tags/cni" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">cni</span>
              </div>
            </a>
            
            <a href="/tags/calico" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">calico</span>
              </div>
            </a>
            
            <a href="/tags/kubernetes" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">kubernetes</span>
              </div>
            </a>
            
          </div>
        </div>
        
      </div>
  </section>
  <section class="p-strip">
  <div class="row">
  <p><a href="https://gasidaseo.notion.site/CloudNet-Blog-c9dfa44a27ff431dafdd2edacc8a1863">CloudNet@</a>ì—ì„œ ì§„í–‰í•˜ê³  ìˆëŠ” <strong>K</strong>8s <strong>A</strong>dvanced <strong>N</strong>etwork <strong>S</strong>tudy(ì´í•˜, KANS)ë¥¼ í†µí•´ í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•©ë‹ˆë‹¤.</p>
<p>ìŠ¤í„°ë”” ì§„í–‰ ì‹œ, Manifestsë¥¼ ì‚¬ìš©í•˜ì—¬ Calicoë¥¼ ì„¤ì¹˜í•˜ì˜€ìœ¼ë‚˜,<br>
Operatorë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.</p>
<p>ê³¼ì œëŠ” ì•„ë‹ˆì—ˆì§€ë§Œ, ìš”ìƒˆ ë‹¤ë“¤ Operator Frameworkë¥¼ ì‚¬ìš©í•´ì„œ ë§ˆë¼ìƒ¹ê¶ˆ ë³¶ë“¯ì´<br>
Operatorë¥¼ ì§€ì§€ê³  ë³¶ëŠ” ê²ƒ ê°™ì•„ì„œ í˜¸ê¸°ì‹¬ì— ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>
<p>ì°¸ê³ ë¡œ Manifestsë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ ì‹œ, 50ê°œì˜ ë…¸ë“œ[1]ë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš° Typhaë¥¼ êµ¬ì„±í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.</p>
<blockquote>
<p>Calico ì„¤ì¹˜ í™˜ê²½ : AWS EC2(No EKS), kubeadm[2], pod-network-cidr=172.16.0.0/16, IPIP Mode</p>
</blockquote>
<h2 id="1-calico-routing-mode">1. Calico Routing Mode</h2>
<p>ìœ„ì— ì–¸ê¸‰ëœ IPIP Modeë¥¼ ì´í•´í•˜ë ¤ë©´ Calicoì˜ Routing Modeë¥¼ í›‘ì„ í•„ìš”ì„±ì´ ìˆì—ˆìŠµë‹ˆë‹¤.<br>
íŒŒë“œê°„ í†µì‹  ì‹œ ë…¸ë“œ ê°„ì— encapsulationì˜ ì „ëµì„ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ë³¼ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.</p>
<ul>
<li>IPIP Mode: (tunl interface)<br>
IP headerë¡œ ê°ì‹¸(encapsulate)ì„œ ë‹¤ì‹œ Outer headerë¥¼ ì œê±°í•˜ëŠ” ë°©ì‹.</li>
<li>VXLAN Mode: (vxlan interface)<br>
UDP headerë¡œ ê°ì‹¸ì„œ ë‹¤ì‹œ Outer headerë¥¼ ì œê±°í•˜ëŠ” ë°©ì‹.</li>
<li>Direct Mode: ì›ë³¸ íŒ¨í‚· ê·¸ëŒ€ë¡œ. CSPì˜ ê²½ìš° NICì—ì„œ Src/Dest Check ê¸°ëŠ¥ Disable í•„ìš”.</li>
</ul>
<p>ê·¸ ì™¸ì—ë„ (Network Level)Pod traffic Encryption[3] ì´ ìˆìŠµë‹ˆë‹¤.</p>
<p>Azureì—ì„œëŠ” VNetì—ì„œ IPIPê°€ ì°¨ë‹¨ë©ë‹ˆë‹¤. ì‚¬ì‹¤ IPIP Modeë¡œ êµ¬ì„±í•  ê²½ìš°, CSPë ˆë²¨ì´ ì•„ë‹Œ Kubeadm ë“±ì—ì„œ ì§€ì •í•œ pod network cidrê°™ì€ ì‚¬ìš©ì ì •ì˜ ê°’ì„ ê³ ë ¤í•´ì•¼í•˜ì—¬ ê´€ë¦¬ì  ì¸¡ë©´ì—ì„œ ì´ìŠˆê°€ ë˜ê¸°ì—, VXLAN Modeë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì—¬ëŸ¬ëª¨ë¡œ ì¢‹ì•„ë³´ì…ë‹ˆë‹¤. ë¬¼ë¡  ì´ê±°ë„ Azure ì“¸ ë•Œ í•´ë´ì•¼ ê² ì§€ìš”.</p>
<h2 id="2-calico-operator-ì„¤ì¹˜-ë°-ì„¤ì •">2. Calico Operator ì„¤ì¹˜ ë° ì„¤ì •</h2>
<p>Docs: <a href="https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises">Install Calico/Operator</a></p>
<p>ê·¸ëƒ¥ ì“±ì“± ì½ìœ¼ë©´, Operatorë¥¼ ìœ„í•œ CRD ì„¤ì¹˜ ë° Custom ì„¤ì •ë§Œ ì ìš©í•˜ë©´ ë©ë‹ˆë‹¤.<br>
ê·¸ê²Œ ëì´ê³  ê·¸ê²Œ ë¬¸ì œì…ë‹ˆë‹¤(?).</p>
<h3 id="1-crd-ì„¤ì¹˜">(1) CRD ì„¤ì¹˜</h3>
<p>ì›ë˜ íŒŒì¼ì„ ë°›ì•„ì„œ ì ìš©í•˜ëŠ” ê±¸ ì¢‹ì•„í•˜ëŠ”ë°&hellip;<br>
ì§ì ‘ í•´ë³´ë‹ˆ, ì´ê±´ ì–Œì „íˆ createë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. ì‚´ì§ ë‹¹í™©ìŠ¤ëŸ¬ì› ìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># SET CALICO_VERSION_NAME  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ref. https://github.com/projectcalico/calico/tags</span>
</span></span><span style="display:flex;"><span>CALICO_VERSION_TAG<span style="color:#f92672">=</span>v3.28.2 <span style="color:#f92672">&amp;&amp;</span> echo $CALICO_VERSION_TAG
</span></span><span style="display:flex;"><span><span style="color:#75715e"># v3.28.2  </span>
</span></span><span style="display:flex;"><span>kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/<span style="color:#e6db74">${</span>CALICO_VERSION_TAG<span style="color:#e6db74">}</span>/manifests/tigera-operator.yaml
</span></span></code></pre></div><p><code>tigera-operator</code> Namespace ë° CRD, SA, Deploymentê°€ ìƒì„±ë©ë‹ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ, CoreDNSì˜ ìƒíƒœëŠ” <del>ë‹¹ì—°íˆ</del> ì•„ì§ Pendingì…ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>âˆ|HomeLab:default<span style="color:#f92672">)</span> root@k8s-m:~# kubectl get pod -n kube-system
</span></span><span style="display:flex;"><span>NAME                            READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>coredns-55cb58b774-62vtz        0/1     Pending   <span style="color:#ae81ff">0</span>          21m
</span></span><span style="display:flex;"><span>coredns-55cb58b774-l8znv        0/1     Pending   <span style="color:#ae81ff">0</span>          21m
</span></span></code></pre></div><h3 id="2-custom-ì„¤ì •-ì ìš©">(2) Custom ì„¤ì • ì ìš©</h3>
<blockquote>
<p>ìˆ˜ì •ì— ìˆì–´ <code>yq</code>ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. <a href="https://github.com/mikefarah/yq">mikefarah/yq@v4</a></p>
</blockquote>
<p>ì•„ë˜ì™€ ê°™ì´ custom-resource.yaml íŒŒì¼ì„ ë°›ì•„, Calico êµ¬ì„±[4]ì„ í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl https://raw.githubusercontent.com/projectcalico/calico/<span style="color:#e6db74">${</span>CALICO_VERSION_TAG<span style="color:#e6db74">}</span>/manifests/custom-resources.yaml -sSo custom-resources-<span style="color:#66d9ef">$(</span>date --iso-8601<span style="color:#66d9ef">)</span>.yaml  
</span></span><span style="display:flex;"><span>ls | grep custom-resources
</span></span><span style="display:flex;"><span><span style="color:#75715e"># custom-resources-2024-09-22.yaml</span>
</span></span></code></pre></div><p>ì£¼ë¡œ ìˆ˜ì •ë˜ëŠ” ë¶€ë¶„ì€ <code>calicoNetwork.ippools</code>ì˜ <code>blockSize</code>ì™€ <code>cidr</code>, <code>encapsulation</code>ì…ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># mikefarah/yq pre-installed (&gt;=v4)</span>
</span></span><span style="display:flex;"><span>yq <span style="color:#e6db74">&#39;(select(.kind == &#34;Installation&#34;) | .spec.calicoNetwork.ipPools[0] | (.blockSize, .cidr, .encapsulation))&#39;</span> custom-resources-2024-09-23.yaml
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">26</span>
</span></span><span style="display:flex;"><span>192.168.0.0/16
</span></span><span style="display:flex;"><span>VXLANCrossSubnet
</span></span></code></pre></div><p>ì‹¤ì œ ì ìš© ì‹œ ê²½í—˜í–ˆë˜ íŠ¸ëŸ¬ë¸”ì€ kubeadm init ì‹œ ì„¤ì •í•œ pod-network-cidrë¥¼ ì•Œì•„ë‚´ëŠ” ë°©ë²•ì´ì—ˆëŠ”ë°,<br>
ì•„ë˜ì™€ ê°™ì´ ConfigMapì„ ì¡°íšŒí•˜ì—¬ ì•Œì•„ë‚¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get configmap -n kube-system kubeadm-config -o yaml | grep podSubnet
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># podSubnet: 172.16.0.0/16</span>
</span></span></code></pre></div><ul>
<li>blockSize: IP Poolì˜ í¬ê¸°, 26ì€ 64ê°œì˜ IPì´ë¯€ë¡œ 24(256ê°œ)ë¡œ ë³€ê²½í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>
<li>cidr: kubeadmin init ì‹œ ì„¤ì •í•œ pod-network-cidr (ì´ë²ˆì˜ ê²½ìš°, 172.16.0.0/16)</li>
<li>encapsulation[5]: ì•„ë˜ ì¤‘ í•˜ë‚˜ë¥¼ ê³ ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<ul>
<li>IPIP, VXLAN, IPIPCrossSubnet, VXLANCrossSubnet, None(Optional)</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>yq <span style="color:#e6db74">&#39;with(select(.kind == &#34;Installation&#34;).spec.calicoNetwork.ipPools[0] ; .blockSize = 24 | .cidr = &#34;172.16.0.0/16&#34; | .encapsulation = &#34;IPIP&#34;)&#39;</span> custom-resources-2024-09-23.yaml -i
</span></span></code></pre></div><p>ì´ì œ ë¹„ë¡œì†Œ ì ìš©ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl create -f custom-resources-2024-09-23.yaml
</span></span><span style="display:flex;"><span><span style="color:#75715e"># installation.operator.tigera.io/default created</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># apiserver.operator.tigera.io/default created</span>
</span></span></code></pre></div><p>í¸-ì•ˆ. ì˜¤ëŠ˜ ì ì€ ì˜ ìê² êµ°ìš”.</p>
<p><img src="images/calico-status.png" alt="calico-status"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get pod -A --sort-by<span style="color:#f92672">=</span>.metadata.creationTimestamp
</span></span><span style="display:flex;"><span><span style="color:#75715e"># NAMESPACE          NAME                                       READY   STATUS    RESTARTS   AGE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        kube-scheduler-k8s-m                       1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        kube-controller-manager-k8s-m              1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        kube-apiserver-k8s-m                       1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        etcd-k8s-m                                 1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        coredns-55cb58b774-62vtz                   1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        kube-proxy-zj6tv                           1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        coredns-55cb58b774-l8znv                   1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        kube-proxy-ct678                           1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        kube-proxy-qbp9m                           1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-system        kube-proxy-gqzw9                           1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tigera-operator    tigera-operator-576646c5b6-z6kkb           1/1     Running   0          30h</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      calico-node-rdvhh                          1/1     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      csi-node-driver-hjms8                      2/2     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      csi-node-driver-hf2md                      2/2     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      csi-node-driver-cvrsj                      2/2     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      csi-node-driver-8bm8w                      2/2     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      calico-typha-64b97658dd-2nfhq              1/1     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      calico-node-q5x2w                          1/1     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      calico-node-hx2xv                          1/1     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      calico-node-grtwc                          1/1     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      calico-kube-controllers-66fd48f858-xbrhp   1/1     Running   0          103s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-system      calico-typha-64b97658dd-g7c29              1/1     Running   0          94s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-apiserver   calico-apiserver-69f798bcb-g6gmq           1/1     Running   0          38s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># calico-apiserver   calico-apiserver-69f798bcb-tst89           1/1     Running   0          38s</span>
</span></span></code></pre></div><p>kubeadmì—ì„œ ì„¤ì •í•œ pod-network-cidrê³¼ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´, ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>
<p><img src="images/calico-kubeadm-errorlog.png" alt="calico-kubeadm-errorlog"></p>
<h3 id="ì°¸ê³ -manifests-ê¸°ë³¸-ì„¤ì •ê°’-ë‘˜ëŸ¬ë³´ê¸°">(ì°¸ê³ ) Manifests ê¸°ë³¸ ì„¤ì •ê°’ ë‘˜ëŸ¬ë³´ê¸°</h3>
<p>ì ì‹œ Manifests ì„¤ì¹˜ ë°©ì‹ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.<br>
v3.28.2 ë²„ì „ ê¸°ì¤€, <code>L4924-4935</code>ë¥¼ ì‚´í´ë³´ë©´,
IPIP Modeê°€ ê¸°ë³¸ í™œì„±í™” ë˜ì–´ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl https://raw.githubusercontent.com/projectcalico/calico/v3.28.2/manifests/calico.yaml -sSq | sed -n <span style="color:#e6db74">&#39;4924,4935p&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># Auto-detect the BGP IP address.</span>
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">IP</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;autodetect&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Enable IPIP</span>
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">CALICO_IPV4POOL_IPIP</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;Always&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Enable or Disable VXLAN on the default IP pool.</span>
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">CALICO_IPV4POOL_VXLAN</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;Never&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Enable or Disable VXLAN on the default IPv6 IP pool.</span>
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">CALICO_IPV6POOL_VXLAN</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;Never&#34;</span>
</span></span></code></pre></div><h2 id="3-retina-ì„¤ì¹˜-ì‹œë„-ì‹¤íŒ¨">3. Retina ì„¤ì¹˜ ì‹œë„ (ì‹¤íŒ¨)</h2>
<p>ì•„ë˜ëŠ” ì‹œë„ ì¤‘ì— ì—ëŸ¬ë¡œê·¸[6] ë³´ê³  ë¯¸ì§€ì› ì¸í„°í˜ì´ìŠ¤ë¡œ ì¸í•´ ì¤‘ë‹¨ëœ ë‚´ìš©ì…ë‹ˆë‹¤.<br>
IPIPëª¨ë“œëŠ” tunl ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ëŠ” ë¯¸ì§€ì› ì‚¬í•­ì„ì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># kubectl logs -n kube-system retina-agent-866h7</span>
</span></span><span style="display:flex;"><span>ts<span style="color:#f92672">=</span>2024-09-23T15:53:59.761Z level<span style="color:#f92672">=</span>error caller<span style="color:#f92672">=</span>linuxutil/ethtool_stats_linux.go:78 msg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Error while getting ethtool:&#34;</span> ifacename<span style="color:#f92672">=</span>tunl0 error<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;interface not supported while retrieving stats: operation not supported&#34;</span> errorVerbose<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;operation not supported\ninterface not supported while retrieving stats\ngithub.com/microsoft/retina/pkg/plugin/linuxutil.(*CachedEthtool).Stats\n\t/go/src/github.com/microsoft/retina/pkg/plugin/linuxutil/ethtool_handle_linux.go:45\ngithub.com/microsoft/retina/pkg/plugin/linuxutil.(*EthtoolReader).readInterfaceStats\n\t/go/src/github.com/microsoft/retina/pkg/plugin/linuxutil/ethtool_stats_linux.go:73\ngithub.com/microsoft/retina/pkg/plugin/linuxutil.(*EthtoolReader).readAndUpdate\n\t/go/src/github.com/microsoft/retina/pkg/plugin/linuxutil/ethtool_stats_linux.go:43\ngithub.com/microsoft/retina/pkg/plugin/linuxutil.(*linuxUtil).run.func2\n\t/go/src/github.com/microsoft/retina/pkg/plugin/linuxutil/linuxutil_linux.go:109\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1695&#34;</span>
</span></span></code></pre></div><blockquote>
<p>Network Monitoring Toolì¸ <a href="https://github.com/microsoft/retina">Retina</a>ë¥¼ ì„¤ì¹˜í•´ë´…ë‹ˆë‹¤.</p>
</blockquote>
<ul>
<li>Helmì´ ìˆì–´ì•¼í•©ë‹ˆë‹¤. ê³µì‹ Docsê°€ ì œì¼ ì •í™•í•©ë‹ˆë‹¤.</li>
</ul>
<h3 id="1-helm-chart-ì„¤ì¹˜">(1) Helm chart ì„¤ì¹˜</h3>
<ul>
<li>ë§í¬: <a href="https://retina.sh/docs/Installation/Setup">https://retina.sh/docs/Installation/Setup</a></li>
</ul>
<p>Basic Mode ë¡œ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Set the version to a specific version here or get latest version from GitHub API.</span>
</span></span><span style="display:flex;"><span>VERSION<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span> curl -sL https://api.github.com/repos/microsoft/retina/releases/latest | jq -r .name<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>helm upgrade --install retina oci://ghcr.io/microsoft/retina/charts/retina <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --version $VERSION <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --set image.tag<span style="color:#f92672">=</span>$VERSION <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --set operator.tag<span style="color:#f92672">=</span>$VERSION <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --set logLevel<span style="color:#f92672">=</span>info <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    --set enabledPlugin_linux<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;\[dropreason\,packetforward\,linuxutil\,dns\]&#34;</span>
</span></span></code></pre></div><p>ë‹¤ìŒê³¼ ê°™ì€ ì¶œë ¥ê°’ì´ ë‚˜ì˜µë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Release <span style="color:#e6db74">&#34;retina&#34;</span> does not exist. Installing it now.
</span></span><span style="display:flex;"><span>Pulled: ghcr.io/microsoft/retina/charts/retina:v0.0.16
</span></span><span style="display:flex;"><span>Digest: sha256:384e4b45d37ab49b6e2e742012e3d49230ce2be102895dccb504b42540091419
</span></span><span style="display:flex;"><span>NAME: retina
</span></span><span style="display:flex;"><span>LAST DEPLOYED: Sun Sep <span style="color:#ae81ff">15</span> 19:29:03 <span style="color:#ae81ff">2024</span>
</span></span><span style="display:flex;"><span>NAMESPACE: default
</span></span><span style="display:flex;"><span>STATUS: deployed
</span></span><span style="display:flex;"><span>REVISION: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>NOTES:
</span></span><span style="display:flex;"><span>1. Installing retina service using helm: helm install retina ./deploy/legacy/manifests/controller/helm/retina/ --namespace kube-system --dependency-update
</span></span><span style="display:flex;"><span>2. Cleaning up/uninstalling/deleting retina and dependencies related: 
</span></span></code></pre></div><h3 id="2-prometheus-ì„¤ì¹˜">(2) Prometheus ì„¤ì¹˜</h3>
<p>ì•ì„œ ì¶œë ¥ê°’ì˜ NOTES.1ì„ ê·¸ëŒ€ë¡œ ì¹˜ë©´ ì—ëŸ¬ê°€ ì •ìƒì ìœ¼ë¡œ ë‚˜ì•¼í•©ë‹ˆë‹¤. í•´ë‹¹ ë˜ëŠ” íŒŒì¼ì„ ë°›ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>
<ul>
<li>
<p>ì—ëŸ¬ ë¡œê·¸ë¥¼ ë³´ë©´, ì´ ë˜í•œ Documentë¥¼ ì•ˆë‚´í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  <a href="https://github.com/microsoft/retina/blob/3d2c7a55f8c0388df271453f5fc7b166c2f275be/deploy/legacy/prometheus/values.yaml">https://github.com/microsoft/retina/blob/3d2c7a55f8c0388df271453f5fc7b166c2f275be/deploy/legacy/prometheus/values.yaml</a></p>
</li>
<li>
<p>Prometheus ì»¤ë®¤ë‹ˆí‹° ì°¨íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. Legacy ëª¨ë“œë¡œ ì§„í–‰í•˜ë‚˜, Githubë¥¼ ì‚´í´ë³´ë‹ˆ Hubbleì„ ì“°ëŠ” ë°©ì‹ë„ ìˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>ì•ì„œ ì–¸ê¸‰ëœ íŒŒì¼ì˜ ê²½ë¡œ: <a href="https://github.com/microsoft/retina/blob/3d2c7a55f8c0388df271453f5fc7b166c2f275be/deploy/legacy/prometheus/values.yaml">https://github.com/microsoft/retina/blob/3d2c7a55f8c0388df271453f5fc7b166c2f275be/deploy/legacy/prometheus/values.yaml</a></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -p deploy/legacy/prometheus
</span></span><span style="display:flex;"><span>touch deploy/legacy/prometheus/values.yaml
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cat &lt;&lt;EOF&gt; deploy/legacy/prometheus/values.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt; COPY AND PASTE (ëŒ€ì¶© ìœ„ì˜ values.yaml ë‚´ìš©)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># EOF </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ADD Prometheus Community Chart Repository</span>
</span></span><span style="display:flex;"><span>helm install prometheus -n kube-system -f deploy/legacy/prometheus/values.yaml prometheus-community/kube-prometheus-stack
</span></span><span style="display:flex;"><span>helm repo update
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>helm install prometheus -n kube-system -f deploy/legacy/prometheus/values.yaml prometheus-community/kube-prometheus-stack
</span></span><span style="display:flex;"><span><span style="color:#75715e"># NAME: prometheus</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># LAST DEPLOYED: Sun Sep 15 19:59:33 2024</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># NAMESPACE: kube-system</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># STATUS: deployed</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># REVISION: 1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># NOTES:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kube-prometheus-stack has been installed. Check its status by running:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#   kubectl --namespace kube-system get pods -l &#34;release=prometheus&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Visit https://github.com/prometheus-operator/kube-prometheus for instructions on how to create &amp; configure Alertmanager and Prometheus instances using the Operator.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>kubectl --namespace kube-system get pods -l <span style="color:#e6db74">&#34;release=prometheus&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># NAME                                                  READY   STATUS    RESTARTS   AGE</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># prometheus-kube-prometheus-operator-64c9474db-sr5bp   1/1     Running   0          67s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># prometheus-kube-state-metrics-688d66b5b8-xn7kp        1/1     Running   0          67s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># prometheus-prometheus-node-exporter-5lvgp             1/1     Running   0          66s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># prometheus-prometheus-node-exporter-98drk             1/1     Running   0          67s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># prometheus-prometheus-node-exporter-dfss9             1/1     Running   0          67s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># prometheus-prometheus-node-exporter-zr44x             1/1     Running   0          67s</span>
</span></span></code></pre></div><p>NodePortë¥¼ ìƒì„±í•´ì„œ ì‹œë„í•´ë³´ê¸° ìœ„í•´ <code>values.yaml</code>ì— ì•„ë˜ ë‘ ê°’ì„ ì¶”ê°€í•˜ì—¬[6] ì—…ë°ì´íŠ¸ í–ˆìŠµë‹ˆë‹¤.</p>
<ul>
<li>prometheus.service.type: NodePort</li>
<li>grafana.service.type: NodePort</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm upgrade prometheus -n kube-system -f deploy/legacy/prometheus/values.yaml prometheus-community/kube-prometheus-stack
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>kubectl get secret -n kube-system prometheus-grafana -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{.data.admin-password}&#34;</span> | base64 --decode ; echo
</span></span><span style="display:flex;"><span><span style="color:#75715e"># prom-operator</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get svc -n kube-system | grep NodePort
</span></span><span style="display:flex;"><span>&lt;!-- prometheus-grafana                                   NodePort    10.200.1.23    &lt;none&gt;        80:32496/TCP                    116m
</span></span><span style="display:flex;"><span>prometheus-kube-prometheus-prometheus                NodePort    10.200.1.36    &lt;none&gt;        9090:30090/TCP,8080:31038/TCP   116m 
</span></span></code></pre></div><p>ê·¸ë¼íŒŒë‚˜ ì ‘ì†ì„ ìœ„í•´, PUBLIC_IP:32496ìœ¼ë¡œ ì ‘ì†í•˜ì—¬, ì›¹ ëŒ€ì‹œë³´ë“œëŠ” í™•ì¸í•˜ì˜€ìœ¼ë‚˜<br>
ëª¨ë“  ë©”íŠ¸ë¦­ì´ í™•ì¸ë˜ì§€ ì•ŠëŠ” ì§„ê¸°í•œ.. ê²½í—˜ì„ í–ˆìŠµë‹ˆë‹¤.<br>
p8sëŠ” ì›¹UI ì ‘ì†ì€ ì»¤ë…• cURLë„ ì•ˆ ë¨¹íˆëŠ” ê±¸ë³´ë‹ˆ ì´ê²Œ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ë¬¸ì œì¸ì§€ ì•„ë‹ˆë©´ ìœ ì €ì—ëŸ¬ì¸ì§€ í˜¼ë™ì´ ë˜ì§€ë§Œ,<br>
tunl ì¸í„°í˜ì´ìŠ¤ê°€ ì•ˆëœë‹¤ëŠ” ì ì„ ê¸°ë¡í•˜ê³ ì ì ì–´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>
<p><img src="images/only-grafana-alive.png" alt="only-grafana-alive"></p>
<h2 id="4-calico-operator-ì„¤ì¹˜ë¥¼-ìœ„í•´-ì‹œë„í•´ë´¤ë˜-ê²ƒë“¤">4. Calico Operator ì„¤ì¹˜ë¥¼ ìœ„í•´ ì‹œë„í•´ë´¤ë˜ ê²ƒë“¤</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Error Log í™•ì¸ì„ ìœ„í•œ í•„ìˆ˜ì‚¬í•­</span>
</span></span><span style="display:flex;"><span>kubectl logs deployment/tigera-operator -n tigera-operator
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Error Logë¥¼ í†µí•´, ì•Œê²Œëœ í•´ê²°ë²•ì´ ì•„ë˜ ì‚¬í•­</span>
</span></span><span style="display:flex;"><span>kubectl get configmap -n kube-system kubeadm-config -o yaml
</span></span><span style="display:flex;"><span><span style="color:#75715e"># kubectl create í›„, delete í•œë‹¤ê³  í•´ê²°ì´ ë˜ëŠ” ê²Œ ì•„ë‹ˆì—ˆìŒ. CRDì—ì„œ ì¶©ëŒ</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># --server-side --force-conflicts ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ ê°•ì œ ë®ì–´ì“°ê¸°ë¥¼ í•´ì•¼ë¨</span>
</span></span><span style="display:flex;"><span>kubectl apply --server-side --force-conflicts -f tigera-operator.yaml
</span></span><span style="display:flex;"><span>kubectl apply --server-side --force-conflicts -f custom-resources.yaml 
</span></span></code></pre></div><h2 id="reference">Reference</h2>
<p>[1] <a href="https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises#install-calico-with-kubernetes-api-datastore-more-than-50-nodes">https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises#install-calico-with-kubernetes-api-datastore-more-than-50-nodes</a><br>
[2] <a href="https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init/#options">https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init/#options</a><br>
[3] <a href="https://docs.tigera.io/calico/latest/network-policy/encrypt-cluster-pod-traffic">https://docs.tigera.io/calico/latest/network-policy/encrypt-cluster-pod-traffic</a><br>
[4] <a href="https://docs.tigera.io/calico/latest/reference/installation/api#operator.tigera.io/v1.IPPool">https://docs.tigera.io/calico/latest/reference/installation/api#operator.tigera.io/v1.IPPool</a><br>
[5] <a href="https://docs.tigera.io/calico/latest/reference/installation/api#operator.tigera.io/v1.EncapsulationType">https://docs.tigera.io/calico/latest/reference/installation/api#operator.tigera.io/v1.EncapsulationType</a><br>
[6] <a href="https://medium.com/@muppedaanvesh/a-hands-on-guide-to-kubernetes-monitoring-using-prometheus-grafana-%EF%B8%8F-b0e00b1ae039">https://medium.com/@muppedaanvesh/a-hands-on-guide-to-kubernetes-monitoring-using-prometheus-grafana-%EF%B8%8F-b0e00b1ae039</a><br>
[ê·¸ì™¸]</p>
<ul>
<li><a href="https://stackoverflow.com/questions/69190171/calico-kube-controllers-and-calico-node-are-not-ready-crashloopbackoff">https://stackoverflow.com/questions/69190171/calico-kube-controllers-and-calico-node-are-not-ready-crashloopbackoff</a></li>
<li><a href="https://serverfault.com/questions/1138767/calico-node-and-kube-proxy-crashed-permanently-on-a-new-node">https://serverfault.com/questions/1138767/calico-node-and-kube-proxy-crashed-permanently-on-a-new-node</a></li>
<li><a href="https://mrmaheshrajput.medium.com/deploy-kubernetes-cluster-on-aws-ec2-instances-f3eeca9e95f1">https://mrmaheshrajput.medium.com/deploy-kubernetes-cluster-on-aws-ec2-instances-f3eeca9e95f1</a></li>
<li><a href="https://tech.osci.kr/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-calico/">https://tech.osci.kr/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-calico/</a></li>
<li><a href="https://github.com/projectcalico/calico/issues/7538">https://github.com/projectcalico/calico/issues/7538</a></li>
<li><a href="https://github.com/projectcalico/calico/issues/6407">https://github.com/projectcalico/calico/issues/6407</a></li>
<li><a href="https://github.com/projectcalico/calico/issues/3878">https://github.com/projectcalico/calico/issues/3878</a></li>
<li><a href="https://github.com/projectcalico/calico/issues/7890">https://github.com/projectcalico/calico/issues/7890</a></li>
<li><a href="https://github.com/projectcalico/calico/issues/4218">https://github.com/projectcalico/calico/issues/4218</a></li>
<li><a href="https://github.com/projectcalico/calico/issues/7826">https://github.com/projectcalico/calico/issues/7826</a></li>
<li><a href="https://dev.to/prakashvra/how-to-setup-a-kubernetes-cluster-on-aws-ec2-using-kubeadm-containerd-and-calico-560o">https://dev.to/prakashvra/how-to-setup-a-kubernetes-cluster-on-aws-ec2-using-kubeadm-containerd-and-calico-560o</a></li>
</ul>

  </div>
  </section>
  <section class="p-strip">
    <div class="row">
      <script src="https://giscus.app/client.js"
        data-repo="kkumtree/blog.minseong.xyz"
        data-repo-id="R_kgDOIv-sqA"
        data-category="Blog Comments"
        data-category-id="DIC_kwDOIv-sqM4CW7uO"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="ko"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
      </script>
    </div>
  </section>
  <div class="card w-full bg-base-100 shadow-xl">
  <div class="card-body" id="adbody">
      <script async
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1254864146899485"
          crossorigin="anonymous"></script>
      
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1254864146899485"
          data-ad-slot="3556422150" data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </div>
  
  <script>
      let adsection = document.getElementsByClassName("adsbygoogle")[0];
      let adfallback = document.getElementById("adfallback");
      adfallback.style.display = "none";
      if (window.getComputedStyle(adsection).display == "none") {
          document.getElementById("adbody").style.display = "none";
          adfallback.style.display = "block";
      } 
  </script>
</div>
  <section class="p-strip--light">
    <div class="row">
      
      <div class="col-12">
        <div class="p-media-object">
          <img src="https://avatars.githubusercontent.com/u/52643858?v=4" class="p-media-object__image is-round" alt="">
          <div class="p-media-object__details">
            <h3 class="p-media-object__title">
              <a href="#">kkumtree</a>
            </h3>
            <p class="p-media-object__content">plumber for infra</p>
            <ul class="p-inline-list--middot">
              <li class="p-inline-list__item"><a href="mailto:mscho7969@ubuntu.com">Email</a></li>
              <li class="p-inline-list__item"><a href="https://launchpad.net/~mscho7969">Launchpad</a></li>
              <li class="p-inline-list__item"><a href="https://github.com/kkumtree">GitHub</a></li>
            </ul>
          </div>
        </div>
         
    </div>
  </section>
  <section class="p-strip">
    <div class="row">
      <footer class="p-article-pagination">
        
        <a class="p-article-pagination__link--previous" href="/post/kans-3w-calico-overview/">
          <span class="p-article-pagination__label">Previous</span>
          <span class="p-article-pagination__title">Calico ë° ë©”íŠ¸ë¦­ ìˆ˜ì§‘ êµ¬ì„±</span>
        </a>
        
        
      </footer>
    </div>
  </section>
</main>

        </div><section class="p-strip--accent">
  <div class="row">
    <div class="col-12">
      <h2>kkumtree</h2>
      <ul class="p-inline-list--middot is-dark">
        <li class="p-inline-list__item">
          <a href="mailto:mscho7969@ubuntu.com">Contact with (Email)</a>
        </li>
        
        
        
        <li class="p-inline-list__item">
          <a href="https://github.com/kkumtree">GitHub</a>
        </li>
        <li class="p-inline-list__item">
          <a href="https://launchpad.net/~mscho7969">Launchpad</a>
        </li>
      </ul>
      <a href="https://github.com/kkumtree/blog.minseong.xyz">Source code on GitHub</a>
      <p>
        Â© 2024 kkumtree and contributors All rights reserved.<br>
        Licensed under <br>
        <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">
          CC BY-NC-ND 4.0
          <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg">
          <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg">
          <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg">
          <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nd.svg">
        </a>
      </p>
    </div>
  </div><script type="text/javascript" src='/js/v-framework.js'></script>
<script type="text/javascript" src='/js/timedisplay.js'></script>
<script>

let slides = document.getElementsByClassName("main-slide");
let index = 0;
let count = slides.length;
function setSlideIndex(destination) {
    index = destination % count;
    index = index < 0 ? index * -1 : index;
    for (let i = 0; i < count; i++) {
        if(i == index) {
            slides[i].style.display = "block";
        } else {
            slides[i].style.display = "none";
        }
    }
}
function nextSlide() {
    setSlideIndex(index + 1);
}
function prevSlide() {
    setSlideIndex(index - 1);
}
setSlideIndex(0);
setInterval(nextSlide, 5000);
</script>

</body>
</html>
