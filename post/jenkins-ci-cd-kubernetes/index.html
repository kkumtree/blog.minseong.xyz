<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="apple-icon-180x180" sizes="180x180" href='/img/favicon/apple-icon-180x180.png'>
    <link rel="icon" type="image/png" sizes="32x32" href='/img/favicon/favicon-32x32.png'>
    <link rel="icon" type="image/png" sizes="16x16" href='/img/favicon/favicon-16x16.png'>
    <title>Jenkins, git and kubernetes - CI/CD ìŠ¤í„°ë”” 3ì£¼ì°¨ | kkumtree</title>
    
    <meta property="og:site_name" content="kkumtree" />
    <meta property="og:title" content="Jenkins, git and kubernetes - CI/CD ìŠ¤í„°ë”” 3ì£¼ì°¨" />

    
    <meta property="og:image" content='https://blog.minseong.xyz/post/jenkins-ci-cd-kubernetes/image-40.png' />
    <meta property="og:image:secure_url" content='https://blog.minseong.xyz/post/jenkins-ci-cd-kubernetes/image-40.png' />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content='https://blog.minseong.xyz/post/jenkins-ci-cd-kubernetes/image-40.png' />

    
    <link rel="stylesheet" href="https://blog.minseong.xyz/sass/theme.min.05bc9a89b9988ba7449154a7ccd83133b7df79fac13cc1945cffac151ac54dbb.css">
</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GCJ1CESNKD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GCJ1CESNKD');
</script><body><header id="navigation" class="p-navigation is-dark">
  <div class="p-navigation__row">
    <div class="p-navigation__banner">
      <div class="p-navigation__tagged-logo" style="min-width: 6rem;">
        <a class="p-navigation__link" href="/">
          <div class="p-navigation__logo-tag">
            <img class="p-navigation__logo-icon" src="/img/BlogWhite.svg" alt="">
          </div>
          <span class="p-navigation__logo-title">Blog</span>
        </a>
      </div>
      <a href="#navigation" class="p-navigation__toggle--open" title="menu">Menu</a>
      <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">Close menu</a>
    </div>
    <nav class="p-navigation__nav" aria-label="Example sub navigation">
      <ul class="p-navigation__items">
        
      </ul>
     
     <ul class="p-navigation__items">
        <li class="p-navigation__item--dropdown-toggle" id="link-4">
          <a class="p-navigation__link" aria-controls="account-menu">
            ğŸŒ
          </a>
          <ul class="p-navigation__dropdown--right" id="account-menu" aria-hidden="true">
            
            
            
          </ul>
        </li>
        <li class="p-navigation__item--dropdown-toggle" id="link-4">
          <a class="p-navigation__link" aria-controls="account-menu">
            ğŸ”—
          </a>
          <ul class="p-navigation__dropdown--right" id="account-menu" aria-hidden="true">
            
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>
<div id="content">


<main>
  <section class="p-strip--image main-strip"
    }
    style="background-image:url('image-40.png'); background-position: center; background-repeat: no-repeat; background-size: cover;"
    >
      <div class="row">
        
        <div class="col-6">
          <div class="p-card--overlay">
            <h2>Jenkins, git and kubernetes - CI/CD ìŠ¤í„°ë”” 3ì£¼ì°¨</h2>
            <ul class="p-card__content p-inline-list--middot">
              
              <li class="p-inline-list__item">
                kkumtree
              </li>
              
            </ul>
            <p><u class=" timedisplay" style="text-decoration-style: dotted;">2025-11-02T08:51:39&#43;09:00</u></p>
            <p class="p-card__content"></p>
            
            <a href="/tags/jenkins" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">jenkins</span>
              </div>
            </a>
            
            <a href="/tags/gitea" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">gitea</span>
              </div>
            </a>
            
            <a href="/tags/helm" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">helm</span>
              </div>
            </a>
            
            <a href="/tags/cicd" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">CICD</span>
              </div>
            </a>
            
            <a href="/tags/cloudnet@" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">CloudNet@</span>
              </div>
            </a>
            
          </div>
        </div>
        
      </div>
  </section>
  <section class="p-strip">
  <div class="row">
  <p><a href="https://gasidaseo.notion.site/CloudNet-Blog-c9dfa44a27ff431dafdd2edacc8a1863">CloudNet@</a>ì—ì„œ ì§„í–‰í•˜ê³  ìˆëŠ” CI/CD Study 3ì£¼ì°¨ì—ëŠ” Jenkinsì™€ ArgoCDì„ ë‹¤ë¤˜ìŠµë‹ˆë‹¤.</p>
<p>ì´ë²ˆì—ëŠ” kubernetes(ì´í•˜, k8s)ì— self-host Gitê³¼ Jenkinsë¥¼ ë°°í¬ í›„ CI/CD ë¶€ë¶„ì„ ë‹¤ë£¨ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
<p>í•˜ë‹¤ë³´ë‹ˆ ê°œì¸ì ìœ¼ë¡œ, ì•„ë˜ 3ê°€ì§€ê°€ ì£¼ë¡œ ê¸°ì–µì— ë‚¨ì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>
<ul>
<li>Docker UDSì˜ GID</li>
<li>Giteaì™€ Multibranch Pipelineì˜ ê²°í•©</li>
<li>Local PVì˜ Taint ë° Node ì§€ì •</li>
</ul>
<blockquote>
<p>í•´ë‹¹ êµ¬ì„±ë“¤ì€ ì•„ë˜ GitHubì— íƒ‘ì¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br>
<a href="https://github.com/kkumtree/ci-cd-cloudnet-study">https://github.com/kkumtree/ci-cd-cloudnet-study</a> ì˜ 3w í´ë”</p>
</blockquote>
<h2 id="0-ì‹¤ìŠµ-ì¤€ë¹„">0. ì‹¤ìŠµ ì¤€ë¹„</h2>
<h3 id="1-kind">(1) kind</h3>
<blockquote>
<p>kind ì„¤ì¹˜ì˜ ê²½ìš° ë‹¤ìŒ í¬ìŠ¤íŠ¸ë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
<a href="../kans-2w-kind-installation-on-linux/">ë¦¬ëˆ…ìŠ¤ì— KIND ì„¤ì¹˜í•˜ê¸° w/golang</a><br>
Docs: <a href="https://kind.sigs.k8s.io/">https://kind.sigs.k8s.io/</a></p>
</blockquote>
<p>kindë¥¼ í†µí•´, ë¡œì»¬ í™˜ê²½ì— k8së¥¼ ë°°í¬í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<ul>
<li>networking.apiServerAddress:<br>
ControlPlaneì— ì ‘ì†í•˜ê¸° ìœ„í•œ ì£¼ì†Œ ì§€ì •</li>
<li>nodes.extraPortMappings:<br>
í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ë¥¼ kindì˜ ê° ë…¸ë“œ í¬íŠ¸ë¡œ ì§ì ‘ ì—°ê²° ì„¤ì •.<br>
ì´ë¥¼ í†µí•´, í˜¸ìŠ¤íŠ¸ì—ì„œ kind ë‚´ë¶€ì˜ <code>NodePort</code> ì„œë¹„ìŠ¤ì— ì ‘ê·¼ ê°€ëŠ¥</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 3w/shells/kind/up-kind.sh</span>
</span></span><span style="display:flex;"><span>kind create cluster --name myk8s --image kindest/node:v1.32.8 --config - <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kind: Cluster
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">apiVersion: kind.x-k8s.io/v1alpha4
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">networking:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  apiServerAddress: &#34;0.0.0.0&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">nodes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">- role: control-plane
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  extraPortMappings:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  - containerPort: 30000
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    hostPort: 30000
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  - containerPort: 30001
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    hostPort: 30001
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  - containerPort: 30002
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    hostPort: 30002
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  - containerPort: 30003
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    hostPort: 30003
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">- role: worker
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><p><img src="image.png" alt="deploy kind control plane and worker node"></p>
<p>ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ <code>~/.kube/config</code> ê¶Œí•œ ì¸ì¦ì´ ë¡œë“œëœ ê²ƒì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get pod -v6
</span></span><span style="display:flex;"><span>cat ~/.kube/config | grep 0.0.0.0
</span></span><span style="display:flex;"><span>docker ps
</span></span><span style="display:flex;"><span>docker images | grep kindest
</span></span></code></pre></div><p><img src="image-1.png" alt="check kubeconfig and kind nodes"></p>
<h3 id="2-kube-ops-view-ì„¤ì¹˜">(2) kube-ops-view ì„¤ì¹˜</h3>
<p>ì•„ë˜ ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ì—¬ ì‹œê°í™” íˆ´ì¸ kube-ops-viewë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm repo add geek-cookbook https://geek-cookbook.github.io/charts/
</span></span><span style="display:flex;"><span>helm install kube-ops-view geek-cookbook/kube-ops-view --version 1.2.2 --set service.main.type<span style="color:#f92672">=</span>NodePort,service.main.ports.http.nodePort<span style="color:#f92672">=</span><span style="color:#ae81ff">30001</span> --set env.TZ<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Asia/Seoul&#34;</span> --namespace kube-system
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export NODE_PORT<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get --namespace kube-system -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{.spec.ports[0].nodePort}&#34;</span> services kube-ops-view<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>export NODE_IP<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get nodes --namespace kube-system -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{.items[0].status.addresses[0].address}&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>echo http://$NODE_IP:$NODE_PORT  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># echo http://$NODE_IP:$NODE_PORT/#scale=2 # ë°°ìœ¨</span>
</span></span></code></pre></div><p><img src="image-2.png" alt="install kube-ops-view">
<img src="image-3.png" alt="kube-ops-view"></p>
<h2 id="1-ê°-ì–´í”Œë¦¬ì¼€ì´ì…˜-ì„¤ì •">1. ê° ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •</h2>
<blockquote>
<p>Docker composeë¡œ Jenkins ë° Gitea ë°°í¬í•˜ê³  ê°ê°ì— ëŒ€í•œ ì„¤ì •ì„ í•´ë´…ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="1-ê¸°ë³¸-ë°°í¬-ë°-jenkins-ì„¤ì •">(1) ê¸°ë³¸ ë°°í¬ ë° Jenkins ì„¤ì •</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 3w/cicd-labs/docker-compose.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ì•„ë˜ íŒŒì¼ì„ docker compose up -d ë¡œ ë°°í¬  </span>
</span></span><span style="display:flex;"><span>services:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  jenkins:
</span></span><span style="display:flex;"><span>    container_name: jenkins
</span></span><span style="display:flex;"><span>    image: jenkins/jenkins:lts
</span></span><span style="display:flex;"><span>    restart: unless-stopped
</span></span><span style="display:flex;"><span>    networks:
</span></span><span style="display:flex;"><span>      - cicd-network
</span></span><span style="display:flex;"><span>    ports:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;8080:8080&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;50000:50000&#34;</span>                      
</span></span><span style="display:flex;"><span>    volumes:
</span></span><span style="display:flex;"><span>      - /var/run/docker.sock:/var/run/docker.sock
</span></span><span style="display:flex;"><span>      - jenkins_home:/var/jenkins_home   
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># privileged: true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  gitea:
</span></span><span style="display:flex;"><span>    container_name: gitea
</span></span><span style="display:flex;"><span>    image: docker.gitea.com/gitea:1.25.0
</span></span><span style="display:flex;"><span>    restart: unless-stopped
</span></span><span style="display:flex;"><span>    networks:
</span></span><span style="display:flex;"><span>      - cicd-network
</span></span><span style="display:flex;"><span>    ports:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;10022:22&#34;</span>                         
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;3000:3000&#34;</span>
</span></span><span style="display:flex;"><span>    volumes:
</span></span><span style="display:flex;"><span>      - ./gitea-data:/data
</span></span><span style="display:flex;"><span>      - /etc/timezone:/etc/timezone:ro
</span></span><span style="display:flex;"><span>      - /etc/localtime:/etc/localtime:ro 
</span></span><span style="display:flex;"><span>    environment:
</span></span><span style="display:flex;"><span>      - USER_UID<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>      - USER_GID<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>volumes:
</span></span><span style="display:flex;"><span>  jenkins_home:
</span></span><span style="display:flex;"><span>  gitea-data:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>networks:
</span></span><span style="display:flex;"><span>  cicd-network:
</span></span><span style="display:flex;"><span>    driver: bridge
</span></span></code></pre></div><p><img src="image-5.png" alt="deploy docker compose"></p>
<blockquote>
<p>jenkinsì— ë³¼ë¥¨ì„ <code>**./**jenkins_home:/var/jenkins_home</code>ìœ¼ë¡œ í–ˆì„ ê²½ìš°, <code>permission error</code>ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>
</blockquote>
<p><img src="image-4.png" alt="permission error"></p>
<p>ì´í›„ ì •ìƒì ìœ¼ë¡œ ë°°í¬ë˜ì—ˆëŠ”ì§€ í™•ì¸ í›„, Jenkins Admin íŒ¨ìŠ¤ì›Œë“œë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i in gitea jenkins ; <span style="color:#66d9ef">do</span> echo <span style="color:#e6db74">&#34;&gt;&gt; container : </span>$i<span style="color:#e6db74"> &lt;&lt;&#34;</span>; docker compose exec $i sh -c <span style="color:#e6db74">&#34;whoami &amp;&amp; pwd&#34;</span>; echo; <span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p><img src="image-6.png" alt="check docker compose and get jenkins passphrase"></p>
<p>ì„¸íŒ…í•  ë•ŒëŠ” ì»¨í…Œì´ë„ˆê°€ Hostì— ì ‘ì†í•  ìˆ˜ ìˆëŠ” IPë¥¼ ì°¾ì•„ì„œ ë³€ê²½í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># ì‹¤ìŠµì‹œ ê³µìœ ê¸° ëŒ€ì—­ì´ 192.168.1.1/24 ì´ì—ˆìœ¼ë¯€ë¡œ, í•´ë‹¹ ëŒ€ì—­ ê²€ìƒ‰ í›„ ì ìš© </span>
</span></span><span style="display:flex;"><span>ifconfig | grep 192.168 -C1
</span></span><span style="display:flex;"><span><span style="color:#75715e"># USBë¬´ì„ ëœì„ ì‚¬ìš© ì¤‘ì´ì–´ì„œ, wlxë¡œ ì‹œì‘ë˜ëŠ” ì£¼ì†Œ ì‚¬ìš©  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># virbr0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#         inet 192.168.122.1  netmask 255.255.255.0  broadcast 192.168.122.255</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#         ether 52:54:00:a3:a7:2c  txqueuelen 1000  (Ethernet)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># --</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># wlx909f33eeed74: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#         inet 192.168.1.25  netmask 255.255.255.0  broadcast 192.168.1.255</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#         inet6 fe80::14af:e:a003:b5ab  prefixlen 64  scopeid 0x20&lt;link&gt;</span>
</span></span></code></pre></div><p><img src="image-8.png" alt="find my local ip in ifconfig">
<img src="image-9.png" alt="set with my local ip"></p>
<p>ë˜ëŠ” ì»¨í…Œì´ë„ˆë“¤ì´ ë°°í¬ëœ Docker ë¸Œë¦¿ì§€ ì£¼ì†Œë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker inspect gitea | grep Gateway
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># &#34;Gateway&#34;: &#34;&#34;,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># &#34;IPv6Gateway&#34;: &#34;&#34;,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#         &#34;Gateway&#34;: &#34;172.27.0.1&#34;,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#         &#34;IPv6Gateway&#34;: &#34;&#34;,</span>
</span></span><span style="display:flex;"><span>ifconfig | grep 172.27
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># inet 172.27.0.1  netmask 255.255.0.0  broadcast 172.27.255.255</span>
</span></span></code></pre></div><p><img src="image-10.png" alt="use docker bridge"></p>
<h3 id="2-jenkinsì˜-docker-out-of-dockerdood-ì„¤ì •">(2) Jenkinsì˜ Docker-out-of-Docker(DooD) ì„¤ì •</h3>
<p>ì¼ë°˜ì ì¸ DinD ìœ¼ë¡œ ë°°í¬í•˜ë ¤ë©´, privileged ê¶Œí•œì„ ì˜¬ë ¤ì¤˜ì•¼í•©ë‹ˆë‹¤.<br>
<del>ë”ë¶ˆì–´ ì—¬ëŸ¬ Jobì´ ëŒëŠ” ìƒí™©ì—ëŠ” ê·¸ë‹¥&hellip;</del></p>
<p>ê·¸ë˜ì„œ, ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ë°”ê¾¸ê¸° ìœ„í•´ ì¬êµ¬ì„±í•©ë‹ˆë‹¤.</p>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">flowchart LR
  A --&gt; B --&gt; C  
  A[Jenkins Container ë‚´ì˜ Docker Client]  
  B[Docker UDSë¥¼ í†µí•´ Host Daemonì— ì ‘ê·¼]  
  C[Hostì— ìƒˆë¡œìš´ ì»¨í…Œì´ë„ˆ Deploy]  
</code></pre><p>UDSë¡œ ì ‘ê·¼í•˜ë ¤ë©´, Jenkins Containerì— ì•„ë˜ì˜ ìˆ˜ì •ì„ ê°€í•©ë‹ˆë‹¤.</p>
<ul>
<li>Docker client ì„¤ì¹˜</li>
<li>jenkins ìœ ì €ì—ë„ docker ì‹¤í–‰ê¶Œí•œ ë¶€ì—¬
<ul>
<li>ê·¸ë£¹ ìƒì„± ë° ìœ ì € ì¶”ê°€ <code>jenkins:docker</code></li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">## ìƒìŠ¹ëœ root ê¶Œí•œìœ¼ë¡œ ì ‘ê·¼</span>
</span></span><span style="display:flex;"><span>docker compose exec --privileged -u root jenkins bash
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">## jenkins ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ Docker Engine ì„¤ì¹˜ ë° ê¶Œí•œ ë¶€ì—¬</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>id <span style="color:#75715e"># í˜„ì¬ ê¶Œí•œ í™•ì¸</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># uid=0(root) gid=0(root) groups=0(root)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Docker Engine í´ë¼ì´ì–¸íŠ¸ ì„¤ì¹˜  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## https://get.docker.com/ ì¶œë ¥ ê°’ì„ ë³€ê²½í•˜ì—¬, CLIë§Œ ì„¤ì¹˜í•˜ì˜€ìŠµë‹ˆë‹¤.  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## curl -fsSL https://get.docker.com -o get-docker.sh &amp;&amp; sh get-docker.sh --dry-run</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## ì‹¤ìŠµ ë‹¹ì‹œ ì´ë¯¸ì§€ëŠ” Debian ê¸°ë°˜  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## `docker-ce-cli`ì— ìœ ì˜í•©ë‹ˆë‹¤.  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>apt-get -qq update &gt;/dev/null
</span></span><span style="display:flex;"><span>DEBIAN_FRONTEND<span style="color:#f92672">=</span>noninteractive apt-get -y -qq install ca-certificates curl &gt;/dev/null
</span></span><span style="display:flex;"><span>install -m <span style="color:#ae81ff">0755</span> -d /etc/apt/keyrings
</span></span><span style="display:flex;"><span>curl -fsSL <span style="color:#e6db74">&#34;https://download.docker.com/linux/debian/gpg&#34;</span> -o /etc/apt/keyrings/docker.asc
</span></span><span style="display:flex;"><span>chmod a+r /etc/apt/keyrings/docker.asc
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;deb [arch=</span><span style="color:#66d9ef">$(</span>dpkg --print-architecture<span style="color:#66d9ef">)</span><span style="color:#e6db74"> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian </span><span style="color:#66d9ef">$(</span>. /etc/os-release <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#34;</span>$VERSION_CODENAME<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74"> stable&#34;</span> &gt; /etc/apt/sources.list.d/docker.list
</span></span><span style="display:flex;"><span>apt-get -qq update &gt;/dev/null
</span></span><span style="display:flex;"><span>DEBIAN_FRONTEND<span style="color:#f92672">=</span>noninteractive apt-get -y -qq install docker-ce-cli curl tree jq yq wget &gt;/dev/null
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## jenkins ìœ ì €ì—ë„ Docker ì‹¤í–‰ê¶Œí•œ ë¶€ì—¬</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ì‘ì„± ì¤‘ íœ´ë¨¼ì—ëŸ¬ë¡œ, Docker ì†Œì¼“ì˜ ê¶Œí•œì´ ë°”ë€Œì–´ ë¡¤ë°± í›„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.  </span>
</span></span><span style="display:flex;"><span>stat -c <span style="color:#e6db74">&#39;%g&#39;</span> /var/run/docker.sock
</span></span><span style="display:flex;"><span>groupadd -g <span style="color:#66d9ef">$(</span>stat -c <span style="color:#e6db74">&#39;%g&#39;</span> /var/run/docker.sock<span style="color:#66d9ef">)</span> -f docker  
</span></span><span style="display:flex;"><span>usermod -aG docker jenkins
</span></span><span style="display:flex;"><span>grep docker /etc/group
</span></span><span style="display:flex;"><span>grep jenkins /etc/group
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>exit
</span></span></code></pre></div><p><img src="image-12.png" alt="install docker client in jenkins"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose restart jenkins
</span></span><span style="display:flex;"><span>docker compose exec jenkins id
</span></span><span style="display:flex;"><span>docker compose exec jenkins docker info
</span></span><span style="display:flex;"><span>docker compose exec jenkins docker ps
</span></span></code></pre></div><p>ë‹¤ì‹œ í™•ì¸í•©ë‹ˆë‹¤.</p>
<p><code>stat -c '%g' /var/run/docker.sock</code>ì˜ ê²½ìš°,<br>
Hostì˜ GIDì™€ ë§ì¶”ì§€ ì•Šì„ ê²½ìš°, Host ì†Œì¼“ë„ ì‚¬ìš© ë¶ˆëŠ¥ì´ ë˜ì–´, GIDë¥¼ ë§ì¶”ëŠ” ì‘ì—…ì…ë‹ˆë‹¤.<br>
(Privileged ëª¨ë“œì—¬ì„œ ê°€ëŠ¥í•œ ë¶€ë¶„)</p>
<p><img src="image-11.png" alt="sync docker group gid"></p>
<h3 id="3-gitea-ì„¤ì •">(3) Gitea ì„¤ì •</h3>
<p><code>Server Domain</code>ê³¼ <code>Gitea ê¸°ë³¸ URL</code>ì„ Jenkinsì™€ ê°™ì´,<br>
í˜¸ìŠ¤íŠ¸ IP(Docker Composeì˜ ë¸Œë¦¿ì§€ ê²Œì´íŠ¸ì›¨ì´)ë¡œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<p><img src="image-13.png" alt="get ip address is same"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grep localhost /etc/hosts
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 127.0.0.1 localhost</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ::1     ip6-localhost ip6-loopback</span>
</span></span><span style="display:flex;"><span>open <span style="color:#e6db74">&#34;http://127.0.0.1:3000&#34;</span>
</span></span></code></pre></div><p>ë‹¹ì¥ì˜ ì ‘ì†ì€ localhost, ì¦‰ <code>127.0.0.1</code>ë¡œë„ ë¬´ë°©í•©ë‹ˆë‹¤.</p>
<p><img src="image-14.png" alt="set gitea with host ip"></p>
<p>ì¶”ê°€ë¡œ ê´€ë¦¬ì ê³„ì •ë„ ì„¤ì •í•©ë‹ˆë‹¤(ì˜µì…˜).</p>
<p><img src="image-15.png" alt="set gitea administrator"></p>
<h3 id="4-docker-token-ìƒì„±">(4) Docker Token ìƒì„±</h3>
<p><a href="https://app.docker.com">Docker</a>ì—ì„œ Personal Access Token(PAT)ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
(Read, Write, Delete ëª¨ë“  ê¶Œí•œì„ ë¶€ì—¬í–ˆìŠµë‹ˆë‹¤)</p>
<p><img src="image-21.png" alt="create personal access token"></p>
<p><code>dckr_pat_&lt;ë‚œìˆ˜&gt;_&lt;ë‚œìˆ˜&gt;</code> í˜•íƒœë¥¼ ê°€ì§€ë©°, ì´ ë˜í•œ ë©”ëª¨í•´ë‘¡ë‹ˆë‹¤.</p>
<h2 id="2-ê°„ë‹¨-ë°°í¬-êµ¬ì„±">2. ê°„ë‹¨ ë°°í¬ êµ¬ì„±</h2>
<p>Jenkins ì»¨í…Œì´ë„ˆê°€ Giteaì™€ DockerHubì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ë°›ê³ ,<br>
ë¹Œë“œ í›„ kind í´ëŸ¬ìŠ¤í„°ì— ë°°í¬í•˜ë„ë¡ í•´ë´…ë‹ˆë‹¤.</p>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">flowchart LR
  A --&gt; C --&gt; D
  B --&gt; C

  A[Gitea Repo Pull]  
  B[Docker Hub Pull]  
  C[Jenkins Build]  
  D[Deploy in kind]  
</code></pre><h3 id="1-gitea-ì†ŒìŠ¤ì½”ë“œ-ìƒì„±">(1) Gitea ì†ŒìŠ¤ì½”ë“œ ìƒì„±</h3>
<blockquote>
<p>Access Tokenì„ í™œìš©í•˜ì—¬, í‰ì†Œì™€ ê°™ì´ git clone/pushë¥¼ í•´ë´…ë‹ˆë‹¤.</p>
</blockquote>
<p>Access Tokenë„ ë§Œë“¤ì–´ë´…ì‹œë‹¤.<br>
(ìš°ì¸¡ ìƒë‹¨ì˜ ì„¤ì • &gt; ì–´í”Œë¦¬ì¼€ì´ì…˜)</p>
<p>ì´ë•Œ, Token Permissionì—ì„œ repositoryì— ëŒ€í•œ <code>Read and Write</code>ë¥¼ í™œì„±í™” í•©ë‹ˆë‹¤.</p>
<p><img src="image-16.png" alt="create access token"></p>
<p>ë‹¤ë¥¸ í† í°ë“¤ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, í•œë²ˆë§Œ í™•ì¸ê°€ëŠ¥í•˜ë‹ˆ ë”°ë¡œ ë©”ëª¨ë¥¼ í•´ë‘¡ë‹ˆë‹¤.</p>
<p><img src="image-17.png" alt="token created"></p>
<p>Private Repositoryë“¤ì„ ìƒì„±í•œ í›„ì—,<br>
í† í°ì„ í†µí•´ í˜¸ìŠ¤íŠ¸ IDEì—ì„œë„ í¸ì§‘ì„ í• ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•´ë´…ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>TOKEN<span style="color:#f92672">=</span>1965eb8dbc1751a78d6f91dc9f0f8a8f9e48b1d8  
</span></span><span style="display:flex;"><span>TOKEN_NAME<span style="color:#f92672">=</span>devops  
</span></span><span style="display:flex;"><span>HOSTIP<span style="color:#f92672">=</span>172.27.0.1  
</span></span><span style="display:flex;"><span>git clone http://$TOKEN_NAME:$TOKEN@$HOSTIP:3000/kkumtree/dev-app.git  
</span></span><span style="display:flex;"><span>git clone git@172.27.0.1:kkumtree/dev-app.git test <span style="color:#75715e"># ì°¨ë‹¨ë¨ í™•ì¸  </span>
</span></span><span style="display:flex;"><span>git clone http://172.27.0.1:3000/kkumtree/dev-app.git test <span style="color:#75715e"># ID/PW ì •ìƒ ì…ë ¥ì‹œ ë°›ìŒ  </span>
</span></span></code></pre></div><p>ë§ˆì§€ë§‰ ì¼€ì´ìŠ¤ì˜ ê²½ìš° ID/PWë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•œë°, ì¶”í›„ ë§‰ì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p><img src="image-18.png" alt="git clone from gitea"></p>
<p>Host IDE(VSCode)ë¥¼ í†µí•´, íŒŒì¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">## ì‹¤ìŠµíŒŒì¼ </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## 3w/cicd-labs/dev-app </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tree -a</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># .</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ Dockerfile</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ .gitignore  # repo ìƒì„± ì‹œ, í•¨ê»˜ ìƒì„±  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ Jenkinsfile</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ README.md</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ server.py</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â””â”€â”€ VERSION</span>
</span></span></code></pre></div><p><img src="image-19.png" alt="add python sample app"></p>
<p>í‰ì†Œ í•˜ë“¯ì´, ë”í•˜ê³  ì»¤ë°‹í•˜ê³  ì˜¬ë ¤ë´…ë‹ˆë‹¤.<br>
ì´ë¯¸, í† í°ê°’ì´ ìˆê¸° ë•Œë¬¸ì— remoteì— ì˜¬ë¼ê°ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="image-20.png" alt="push without passphrase"></p>
<h3 id="2-gitea-ì¡°ì§-ìƒì„±-ë°-ê°œì¸-repository-ì†Œìœ ê¶Œ-ì´ì „">(2) Gitea ì¡°ì§ ìƒì„± ë° ê°œì¸ Repository ì†Œìœ ê¶Œ ì´ì „</h3>
<blockquote>
<p>Jenkins í”ŒëŸ¬ê·¸ì¸ê³¼ì˜ ì—°ë™ì„ ìœ„í•´ì„œ, ë§ì€ê²Œ ë°”ë€Œì–´ì„œ ì„¤ì •ì„ ë‹¤ì‹œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<ol>
<li>ORG ìƒì„±(ì„ íƒ/ê¶Œì¥ì‚¬í•­)<br>
<code>ìƒˆë¡œìš´ ì¡°ì§</code>ì„ í´ë¦­í•˜ì—¬, ì¡°ì§ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
<img src="image-22.png" alt="create gitea creation"></li>
<li>ê¸°ì¡´ Repository ì†Œìœ ê¶Œ ì´ì „<br>
ê¸°ì¡´ ë ˆí¬(e.g. dev-app) ì„¤ì • ë§¨ ì•„ë˜ì— ì†Œìœ ê¶Œ ì´ì „ì„ í´ë¦­í•©ë‹ˆë‹¤.<br>
ì´ë•Œ, ìƒˆ ì†Œìœ ìëŠ” ìƒˆë¡œ ìƒì„±í•œ ì¡°ì§ ì´ë¦„ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤.<br>
<img src="image-23.png" alt="transfer repository ownership to organization"></li>
<li>Token ì¬ ìƒì„±<br>
ì¡°ê±´ ì¶©ì¡±ì„ ìœ„í•´ ì•„ë˜ì˜ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤.</li>
</ol>
<ul>
<li>read:organization # ì¡°ì§ ê¶Œí•œì„ ì½ìŠµë‹ˆë‹¤.</li>
<li>write:repository  # repositoryë¥¼ ì½ìŠµë‹ˆë‹¤.</li>
<li>read:user         # userì˜ ì •ë³´ë¥¼ ì½ìŠµë‹ˆë‹¤.</li>
</ul>
<h3 id="3-jenkins-í”ŒëŸ¬ê·¸ì¸-ì„¤ì¹˜-ë°-token-ì£¼ì…">(3) Jenkins í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ ë° Token ì£¼ì…</h3>
<p>ì„¤ì¹˜í•œ Pluginë“¤ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p>
<ul>
<li><a href="https://plugins.jenkins.io/docker-workflow/">Docker Pipeline</a></li>
<li><a href="https://plugins.jenkins.io/pipeline-stage-view/">Pipeline: Stage View</a></li>
<li><a href="https://plugins.jenkins.io/gitea/">Gitea</a></li>
</ul>
<p>Gitea ì„œë²„ ì£¼ì†Œ ë° í† í°ì„ ì„¤ì •í•´ë´…ë‹ˆë‹¤.<br>
ê²½ë¡œëŠ” Manage -&gt; System -&gt; Gitea server ì…ë‹ˆë‹¤.<br>
ì´ì „ì— íŒŒì•…í–ˆë˜ Host IPì™€ í¬íŠ¸ë²ˆí˜¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤. ìœ íš¨í•˜ë©´ Gitea ë²„ì „ì´ í™•ì¸ë©ë‹ˆë‹¤.</p>
<p><img src="image-25.png" alt="system setting for gitea server"></p>
<p>(ì„ íƒ) Jenkins ë° Jenkins Nodeì—ì„œë§Œ í˜„ì¬ ìƒí™©ì„ íŒŒì•…í•  ìˆ˜ ìˆê²Œ read-only í‚¤ë¥¼ ë³„ë„ ìƒì„±í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<ul>
<li>read:organization</li>
<li>read:repository</li>
<li>read:user</li>
</ul>
<p><img src="image-24.png" alt="optional read-only key for system settings"></p>
<p>New Item(í˜¹ì€ Create a job) -&gt; Orgnization Folderë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>
<p><img src="image-26.png" alt="Orgnization Folder/Jenkinsfile"></p>
<p>Project -&gt; Repository Sources -&gt; Gitea Organization ì„ í´ë¦­ í›„, ì•ì„œ ì§€ì •í•œ Serverë¥¼ ì„ íƒí•©ë‹ˆë‹¤.<br>
BehavioursëŠ” Discover branchesì˜ ê¸°ë³¸ Strategy ì™¸ì— ì œê±°í•©ë‹ˆë‹¤.<br>
ì´í›„ Repository Write ê¶Œí•œì´ ìˆëŠ” Credentialì„ ì¶”ê°€í•˜ê¸° ìœ„í•´, Add -&gt; cicd-labsë¥¼ í´ë¦­í•©ë‹ˆë‹¤.<br>
OwnerëŠ” Token ë°œê¸‰ ìœ ì €, í˜¹ì€ ìœ ì €ê°€ ì†í•œ Organization ì´ë¦„ì„ ê¸°ì…í•©ë‹ˆë‹¤.</p>
<p><img src="image-27.png" alt="set gitea organization"></p>
<p>Kindì—ì„œ Gitea Personal Access Token ì„ íƒ í›„, ì„ì˜ ID ì§€ì • í›„ ì €ì¥í•©ë‹ˆë‹¤.</p>
<p><img src="image-28.png" alt="save for organization key"></p>
<p>ì €ì¥í•˜ë©´, organization(í˜¹ì€, User)ì˜ repository, branch ì •ë³´ë¥¼ ì½ì–´ì˜µë‹ˆë‹¤.</p>
<p><img src="image-29.png" alt="Success Gitea plugin setup"></p>
<p>ë§ˆì§€ë§‰ìœ¼ë¡œ Docker Tokenë„ ì €ì¥í•©ë‹ˆë‹¤.<br>
(Username and password. Usernameì€ Docker ê³„ì •ëª…)</p>
<p><img src="image-30.png" alt="find Registry credentials"><br>
<img src="image-31.png" alt="save docker token"></p>
<h3 id="4-íŒŒì´í”„ë¼ì¸-êµ¬ì„±">(4) íŒŒì´í”„ë¼ì¸ êµ¬ì„±</h3>
<p>ê¸°ì¡´ì˜ dev-appì— Jenkinsfileì„ ìƒì„± í›„, Push í•©ë‹ˆë‹¤.<br>
Jenkins Organizationì—ì„œ <code>Scan Gitea Organizaton Now</code> í´ë¦­ í›„,<br>
Logë¥¼ ì¡°íšŒí•˜ë©´, Jenkinsfileì„ ë°œê²¬í–ˆë‹¤ê³  í•˜ë©´ì„œ, Buildë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.</p>
<p><img src="image-32.png" alt="Jenkinsfile found"></p>
<p>ìƒì„¸ë¥¼ ë³´ë©´, ë¹Œë“œê°€ ì„±ê³µí•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="image-33.png" alt="Build Success"></p>
<p>Docker Hubì—ë„ ì •ìƒ ê²Œì‹œëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="image-34.png" alt="Docker Hub Upload Success"></p>
<h3 id="5-helmìœ¼ë¡œ-ìˆ˜ë™-ë°°í¬">(5) Helmìœ¼ë¡œ ìˆ˜ë™ ë°°í¬</h3>
<p>í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ê°€ì§€ê³  Helm íŒŒì¼ë¡œ ë§Œë“¤ì–´ ë°°í¬ë¥¼ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>
<blockquote>
<p>ì‹¤ìŠµ íŒŒì¼ë“¤ì€ <code>/3w/helm</code> ì— ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># tree</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># .</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ Chart.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ templates</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”‚Â Â  â”œâ”€â”€ deployment.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”‚Â Â  â””â”€â”€ service.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â””â”€â”€ values.yaml</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm install timeserver .
</span></span></code></pre></div><p><img src="image-37.png" alt="deploy with helm"></p>
<p><img src="image-35.png" alt="two pod are deployed"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i in <span style="color:#f92672">{</span>1..100<span style="color:#f92672">}</span>;  <span style="color:#66d9ef">do</span> curl -s http://127.0.0.1:30000 | grep name; <span style="color:#66d9ef">done</span> | sort | uniq -c | sort -nr
</span></span></code></pre></div><p>2ê°œì˜ íŒŒë“œì—ì„œ ë¶„ì‚°ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<p><img src="image-36.png" alt="curl test"></p>
<p>replicaë¥¼ 4ê°œë¡œ ëŠ˜ë ¤ë‘” í›„ì—ë„ ê³¨ê³ ë£¨ ë¶„ì‚°ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>
<p><img src="image-39.png" alt="increased replicaSet"></p>
<p><img src="image-38.png" alt="curl test after upgrade"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i in <span style="color:#f92672">{</span>1..100<span style="color:#f92672">}</span>;  <span style="color:#66d9ef">do</span> curl -s http://127.0.0.1:30000 | grep name; <span style="color:#66d9ef">done</span> | sort | uniq -c | sort -nr
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  30 Server hostname: timeserver-85b54fcbb5-dk7rg</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  26 Server hostname: timeserver-85b54fcbb5-kgv27</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  24 Server hostname: timeserver-85b54fcbb5-dm5fp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  20 Server hostname: timeserver-85b54fcbb5-bp4p6</span>
</span></span></code></pre></div><p>ì• í”Œë¦¬ì¼€ì´ì…˜ 0.0.1 ë²„ì „ì—ì„œ 0.0.2 ë²„ì „ìœ¼ë¡œ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³€ê²½í•œ í›„, ì´ë¥¼ Jenkinsê°€ ë¹Œë“œí•œ ì´ë¯¸ì§€ë¥¼ ë°°í¬ í•´ë´…ë‹ˆë‹¤.<br>
git push ì´í›„ <code>Scan Multibranch Pipeline Now</code>ë¥¼ í´ë¦­í•˜ë©´ Docker Hubì— ìƒˆ ë²„ì „ì˜ ì´ë¯¸ì§€ íƒœê·¸ê°€ ìƒì„±ëœ ê²ƒ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p><img src="image-40.png" alt="click Scan Multibranch Pipeline Now">
<img src="image-41.png" alt="new tag on docker hub"></p>
<p>ë‹¤ì‹œ helm ë³€ìˆ˜ë¥¼ ë°”ê¿”ì„œ ë°°í¬í•´ë´…ë‹ˆë‹¤.<br>
ìƒˆë¡œìš´ ë²„ì „ì˜ Podê°€ ìƒì„±ëœ ë’¤, ê¸°ì¡´ ë²„ì „ì˜ Podê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‚¬ë¼ì§ì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm upgrade timeserver --reuse-values --set image.tag<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.0.2&#34;</span> .
</span></span></code></pre></div><p><img src="image-42.png" alt="rolling updated with helm"></p>
<h2 id="3-kind-clusterì—-jenkins-ë°°í¬í•´ë³´ê¸°">3. kind clusterì— Jenkins ë°°í¬í•´ë³´ê¸°</h2>
<p>ëŒ€ë¶€ë¶„ì€ Jenkinsì˜ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì˜€ìŠµë‹ˆë‹¤ë§Œ,<br>
ë¡œì»¬(Kind)í™˜ê²½ì— êµ¬ì„±í•˜ë‹¤ë³´ë‹ˆ ë‹¤ì†Œ ì†ì„ ë´ì•¼í•˜ëŠ” ë¶€ë¶„ì„ ë‹¤ë£¨ì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<blockquote>
<p>ì‹¤ìŠµ íŒŒì¼ë“¤ì€ <code>/3w/jenkins-on-kind</code> ì— ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># tree</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># .</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ jenkins-01-volume.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ jenkins-01-volume.yaml.default  # ë³€ê²½ ë¹„êµë¥¼ ìœ„í•œ íŒŒì¼</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ jenkins-02-sa.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â”œâ”€â”€ jenkins-values.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># â””â”€â”€ jenkins-values.yaml.default     # ë³€ê²½ ë¹„êµë¥¼ ìœ„í•œ íŒŒì¼</span>
</span></span></code></pre></div><h3 id="1-helm-í…œí”Œë¦¿-ë‹¤ìš´ë¡œë“œ-ë°-ë°°í¬">(1) Helm í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ ë° ë°°í¬</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl https://raw.githubusercontent.com/jenkins-infra/jenkins.io/master/content/doc/tutorials/kubernetes/installing-jenkins-on-kubernetes/jenkins-01-volume.yaml -o jenkins-01-volume.yaml
</span></span><span style="display:flex;"><span>curl https://raw.githubusercontent.com/jenkins-infra/jenkins.io/master/content/doc/tutorials/kubernetes/installing-jenkins-on-kubernetes/jenkins-02-sa.yaml -o jenkins-02-sa.yaml
</span></span><span style="display:flex;"><span>curl https://raw.githubusercontent.com/jenkinsci/helm-charts/main/charts/jenkins/values.yaml -o jenkins-values.yaml
</span></span><span style="display:flex;"><span>cp jenkins-01-volume.yaml jenkins-01-volume.yaml.default
</span></span><span style="display:flex;"><span>cp jenkins-values.yaml jenkins-values.yaml.default
</span></span></code></pre></div><p>ì•„ë˜ì™€ ê°™ì´ ë¶€ë¶„ì ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ì•¼í•©ë‹ˆë‹¤.</p>
<ol>
<li>
<p>Local PV í´ë” ìƒì„± í›„, ê¶Œí•œ ë¶€ì—¬í•©ë‹ˆë‹¤.
jenkins-01-volume.yamlì— ì˜í•´ì„œ, ë¡œì»¬ ë³¼ë¥¨ì„ /data/jenkins-volume ìœ¼ë¡œ ì§€ì •</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo mkdir -p /data/jenkins-volume
</span></span><span style="display:flex;"><span>sudo chown -R 1000:1000 /data/jenkins-volume
</span></span></code></pre></div></li>
<li>
<p>localë¡œ ë°”ê¾¸ê³ , nodeAffinityë¥¼ ë¶€ì—¬í•˜ì—¬ Control Plane Taint ì—ëŸ¬ë¥¼ í•´ì†Œí•©ë‹ˆë‹¤.<br>
ì´ ê²½ìš°ì—ëŠ” Worker Nodeë¥¼ íŠ¹ì •í•˜ì—¬, í•´ë‹¹ ë…¸ë“œì—ë§Œ Jenkinsê°€ ë°°í¬ë˜ê²Œ ì§€ì •í–ˆìŠµë‹ˆë‹¤.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>diff jenkins-01-volume.yaml jenkins-01-volume.yaml.default
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 13c13</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   local:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt;   hostPath:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 15,22d14</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   nodeAffinity:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;     required:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;       nodeSelectorTerms:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;       - matchExpressions:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;         - key: kubernetes.io/hostname</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;           operator: In</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;           values:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;             - myk8s-worker</span>
</span></span></code></pre></div><h3 id="2-valuesyaml-ìˆ˜ì •">(2) values.yaml ìˆ˜ì •</h3>
<p>ì•ì„œ PV ë° SAë¥¼ ìƒì„±í•˜ì˜€ìœ¼ë¯€ë¡œ valuesì— ì´ë¥¼ ë¹„í™œì„±í™” í•˜ê³ ,<br>
NodePortë¡œ ì—´ì–´ë‘ë©°, namespaceë¥¼ jenkinsë¡œ ì§€ì •í•´ë‘¡ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>diff jenkins-values.yaml jenkins-values.yaml.default
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 4d3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt; name: jenkins</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 226,227c225</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   serviceType: NodePort</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   # serviceType: ClusterIP</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt;   serviceType: ClusterIP</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 236c234</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   nodePort: 30003           # kind ë°°í¬ ì‹œ, ì—´ì–´ë‘ì—ˆë˜ nodePort ì‚¬ìš©  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt;   nodePort:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1273c1271</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   storageClass: jenkins-pv</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt;   storageClass:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1339,1340c1337</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   create: false</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   # create: true</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt;   create: true</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1344c1341</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &lt;   name: jenkins</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &gt;   name:</span>
</span></span></code></pre></div><h3 id="3-ë°°í¬-ë°-ì§„ì…">(3) ë°°í¬ ë° ì§„ì…</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Helm Chart ì¶”ê°€</span>
</span></span><span style="display:flex;"><span>helm repo add jenkinsci https://charts.jenkins.io
</span></span><span style="display:flex;"><span>helm repo update
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>kubectl apply -f jenkins-01-volume.yaml
</span></span><span style="display:flex;"><span>kubectl apply -f jenkins-02-sa.yaml
</span></span><span style="display:flex;"><span>helm install jenkins -n jenkins -f jenkins-values.yaml jenkinsci/jenkins
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ì¶œë ¥ ì•”í˜¸</span>
</span></span><span style="display:flex;"><span>kubectl exec --namespace jenkins -it svc/jenkins -c jenkins -- /bin/cat /run/secrets/additional/chart-admin-password <span style="color:#f92672">&amp;&amp;</span> echo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ë…¸ë“œ í¬íŠ¸ ë° IP ì£¼ì†Œë¥¼ í†µí•´ ì£¼ì†Œ íšë“</span>
</span></span><span style="display:flex;"><span>export NODE_PORT<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get --namespace jenkins -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{.spec.ports[0].nodePort}&#34;</span> services jenkins<span style="color:#66d9ef">)</span>  
</span></span><span style="display:flex;"><span>export NODE_IP<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get nodes --namespace jenkins -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{.items[0].status.addresses[0].address}&#34;</span><span style="color:#66d9ef">)</span>  
</span></span><span style="display:flex;"><span>echo http://$NODE_IP:$NODE_PORT
</span></span></code></pre></div><p><img src="image-43.png" alt="alt text"></p>
<p>ë§ˆì§€ë§‰ ì¶œë ¥ ê°’ì„ ì£¼ì†Œì°½ì— ë„£ì–´ ì ‘ì†í•©ë‹ˆë‹¤.</p>
<h3 id="2-jenkins-ë‚´ë¶€-ì„¤ì •">(2) Jenkins ë‚´ë¶€ ì„¤ì •</h3>
<p>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œì— ë¬¸ì œê°€ ìˆìœ¼ë¯€ë¡œ ë‹¤ì‹œ Jenkins URLì„ <code>http://$NODE_IP:$NODE_PORT</code>ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.<br>
(ê´€ë¦¬ &gt; System &gt; Jenkins URL )</p>
<p><img src="image-44.png" alt="edit Jenkins URL"></p>
<p>í”ŒëŸ¬ê·¸ì¸ì€ ì´ë ‡ê²Œ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>
<ul>
<li><a href="https://plugins.jenkins.io/docker-workflow/">Docker Pipeline</a></li>
<li><a href="https://plugins.jenkins.io/pipeline-stage-view/">Pipeline: Stage View</a></li>
<li><a href="https://plugins.jenkins.io/gitea/">Gitea</a></li>
<li><a href="https://plugins.jenkins.io/gitea-pat-kubernetes-credentials/">Gitea PAT Kubernetes Credentials</a></li>
</ul>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://github.com/NelsonMaty/docker-outside-of-docker-example">Jenkins Docker-outside-of-Docker with Nexus Registry/NelsonMaty</a></li>
<li><a href="https://www.tmvtech.com/ubuntu-tutorial-jenkins-gitea-docker/">Ubuntu Tutorial: Jenkins + Gitea + Docker/TMVTech</a></li>
<li><a href="https://mike42.me/blog/2019-05-how-to-integrate-gitea-and-jenkins">How to integrate Gitea and Jenkins/mike42.me</a></li>
<li><a href="https://www.jenkins.io/doc/book/installing/docker/#on-macos-and-linux">Docker/jenkins.io</a></li>
<li><a href="https://www.jenkins.io/doc/book/installing/kubernetes/#install-jenkins-with-helm-v3">Kubernetes/jenkins.io</a></li>
</ul>

  </div>
  </section>
  <section class="p-strip">
    <div class="row">
      <script src="https://giscus.app/client.js"
        data-repo="kkumtree/blog.minseong.xyz"
        data-repo-id="R_kgDOIv-sqA"
        data-category="Blog Comments"
        data-category-id="DIC_kwDOIv-sqM4CW7uO"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="ko"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
      </script>
    </div>
  </section>
  <div class="card w-full bg-base-100 shadow-xl">
  <div class="card-body" id="adbody">
      <script async
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1254864146899485"
          crossorigin="anonymous"></script>
      
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1254864146899485"
          data-ad-slot="3556422150" data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
  </div>
  
  <script>
      let adsection = document.getElementsByClassName("adsbygoogle")[0];
      let adfallback = document.getElementById("adfallback");
      adfallback.style.display = "none";
      if (window.getComputedStyle(adsection).display == "none") {
          document.getElementById("adbody").style.display = "none";
          adfallback.style.display = "block";
      } 
  </script>
</div>
  <section class="p-strip--light">
    <div class="row">
      
      <div class="col-12">
        <div class="p-media-object">
          <img src="https://avatars.githubusercontent.com/u/52643858?v=4" class="p-media-object__image is-round" alt="">
          <div class="p-media-object__details">
            <h3 class="p-media-object__title">
              <a href="#">kkumtree</a>
            </h3>
            <p class="p-media-object__content">plumber for infra</p>
            <ul class="p-inline-list--middot">
              <li class="p-inline-list__item"><a href="mailto:mscho7969@ubuntu.com">Email</a></li>
              <li class="p-inline-list__item"><a href="https://launchpad.net/~mscho7969">Launchpad</a></li>
              <li class="p-inline-list__item"><a href="https://github.com/kkumtree">GitHub</a></li>
            </ul>
          </div>
        </div>
         
    </div>
  </section>
  <section class="p-strip">
    <div class="row">
      <footer class="p-article-pagination">
        
        <a class="p-article-pagination__link--previous" href="/post/helm-template-reusing-statements/">
          <span class="p-article-pagination__label">Previous</span>
          <span class="p-article-pagination__title">Helm í…œí”Œë¦¿ìœ¼ë¡œ ì¬ì‚¬ìš©ì„± ë†’ì´ê¸° - CI/CD ìŠ¤í„°ë”” 2ì£¼ì°¨</span>
        </a>
        
        
      </footer>
    </div>
  </section>
</main>

        </div><section class="p-strip--accent">
  <div class="row">
    <div class="col-12">
      <h2>kkumtree</h2>
      <ul class="p-inline-list--middot is-dark">
        <li class="p-inline-list__item">
          <a href="mailto:mscho7969@ubuntu.com">Contact with (Email)</a>
        </li>
        
        
        
        <li class="p-inline-list__item">
          <a href="https://github.com/kkumtree">GitHub</a>
        </li>
        <li class="p-inline-list__item">
          <a href="https://launchpad.net/~mscho7969">Launchpad</a>
        </li>
      </ul>
      <a href="https://github.com/kkumtree/blog.minseong.xyz">Source code on GitHub</a>
      <p>
        Â© 2024 kkumtree and contributors All rights reserved.<br>
        Licensed under <br>
        <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">
          CC BY-NC-ND 4.0
          <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg">
          <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg">
          <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg">
          <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nd.svg">
        </a>
      </p>
    </div>
  </div><script type="text/javascript" src='/js/v-framework.js'></script>
<script type="text/javascript" src='/js/timedisplay.js'></script>
<script>

let slides = document.getElementsByClassName("main-slide");
let index = 0;
let count = slides.length;
function setSlideIndex(destination) {
    index = destination % count;
    index = index < 0 ? index * -1 : index;
    for (let i = 0; i < count; i++) {
        if(i == index) {
            slides[i].style.display = "block";
        } else {
            slides[i].style.display = "none";
        }
    }
}
function nextSlide() {
    setSlideIndex(index + 1);
}
function prevSlide() {
    setSlideIndex(index - 1);
}
setSlideIndex(0);
setInterval(nextSlide, 5000);
</script>

</body>
</html>
